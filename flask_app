# A very simple Flask Hello World app for you to get started with...

from flask import Flask, request
from crud_Graph import save_Graph , create_Graph , get_Shortest_Path
from get_Vector3 import get_Coor
import ast
from flask_cors import CORS


app = Flask(__name__)
CORS(app)

@app.route('/createGraph/<text>' , methods = ['POST' , 'GET'])
def createGraph(text) :
    return {'status' : save_Graph(create_Graph(ast.literal_eval(text.replace('text=' , ''))))}

@app.route('/getRoute' , methods = ['POST' , 'GET'])
def getRoute() :
    i = request.args.get('i' , type = str)
    d = request.args.get('d' , type = str)
    reference = request.args.get('reference' , type = str)
    return get_Shortest_Path(reference , i , d)



@app.route('/getCoor' , methods = ['POST' , 'GET'])
def getCoor() :
    vec3_Data = get_Coor(request.args.get('lat1' , type = float) ,
                        request.args.get('lon1' , type = float) ,
                        request.args.get('lat2' , type = float) ,
                        request.args.get('lon2' , type = float) ,
                        request.args.get('l' , type = float))

    return (vec3_Data)






















